---

- name: setup global known_hosts
  become: true
  known_hosts:
    path=/etc/ssh/known_hosts
    name="{{ item }}"
    key="{{ lookup('pipe', 'ssh-keyscan -T 10 -H -t rsa ' + item) }}"
    state=present
  with_items:
    - github.com
    - gitlab.com

- name: insert grub customization
  become: true
  lineinfile:
    backrefs: true
    path: /etc/default/grub
    regexp: '^(GRUB_CMDLINE_LINUX=".*")$'
    line: '\1 {{ grub_parameter }}'
  when: grub_parameter is defined
  notify: update grub

#- name: install custom fonts
# sudo fc-cache -fv
